
<div class="mat-content">
  
  <h2 style="font-weight: bold;">User List</h2>
  
  <div  fxLayout="row">
    <div fxFlex fxLayoutAlign="start start" fxLayoutGap="10px" fxLayout="row" >
      <mat-form-field appearance="outline">
        <input matInput (dateInput)="addEvent($event.target.value, $event)" [matDatepicker]="picker1" [formControl]="searchDate">
        <mat-datepicker-toggle matPrefix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1 disabled="false"></mat-datepicker>
      </mat-form-field>
  
  
  <mat-button-toggle-group class="mt-rem" name="fontStyle" aria-label="Font Style">
  <mat-button-toggle value="bold">Past 30 Days</mat-button-toggle>
  <mat-button-toggle value="italic">Monthly</mat-button-toggle>
  <mat-button-toggle value="underline">Weekly</mat-button-toggle>
  </mat-button-toggle-group>
    </div>  
  
    <div fxFlex fxLayoutAlign="end start" fxLayoutGap="10px" style="align-self: center;">
      <mat-form-field appearance="outline">

        <input matInput (keyup)="applyFilter($event)" placeholder="Search Visitor" #input>
        <mat-icon matPrefix>search</mat-icon>
      </mat-form-field>
      
      <a mat-stroked-button routerLinkActive="list-item-active" routerLink="/new-detail">CREATE AN detail<mat-icon>add</mat-icon></a>
      
      </div>
  
  </div>
    <div class="example-container mat-elevation-z8">
      <div class="example-loading-shade"
           *ngIf="loading">
        <mat-spinner *ngIf="loading || successMsg || errorMsg"></mat-spinner>
        <div class="example-rate-limit-reached" *ngIf="successMsg">
          {{ successMsg }}
        </div>
        <div class="example-rate-limit-reached" *ngIf="errorMsg">
          {{ errorMsg }}
        </div>
      </div>
    
      <div *ngIf="!loading && !loading" class="example-table-container">
        
        <table mat-table [dataSource]="listData" matSort class="example-table">

            <ng-container matColumnDef="s/n">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>s/n</th>
            <td mat-cell *matCellDef="let detail">{{detail._id}}</td>
          </ng-container>
    

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header >name</th>
            <td mat-cell *matCellDef="let detail">{{detail.firstname}}  &nbsp;  {{detail.lastname}}</td>
          </ng-container>
    

          <ng-container matColumnDef="person to meet">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>person to meet</th>
            <td mat-cell *matCellDef="let detail">{{detail.whom}}</td>
          </ng-container>
    

          <ng-container matColumnDef="state">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>state</th>
            <td mat-cell *matCellDef="let detail">{{detail.state}}</td>
          </ng-container>
  

          <ng-container matColumnDef="city">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>city</th>
            <td mat-cell *matCellDef="let detail">{{detail.city}}</td>
          </ng-container>
  

          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>address</th>
            <td mat-cell *matCellDef="let detail">{{detail.address}}</td>
          </ng-container>
  

          <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>date</th>
            <td mat-cell *matCellDef="let detail">{{detail.detailDate | date:'dd/MM/yyyy'}}</td>
          </ng-container>
  

          <ng-container matColumnDef="purpose">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>purpose</th>
            <td mat-cell *matCellDef="let detail">{{detail.purpose}}</td>
          </ng-container>
  

          <ng-container matColumnDef="organization">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>organization</th>
            <td mat-cell *matCellDef="let detail">{{detail.organization}}</td>
          </ng-container>
  

          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>email</th>
            <td mat-cell *matCellDef="let detail">{{detail.email}}</td>
          </ng-container>
  

          <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>phone</th>
            <td mat-cell *matCellDef="let detail">{{detail.phone}}</td>
          </ng-container>
  

          <ng-container matColumnDef="action">
            <th [attr.rowspan]="2" mat-header-cell *matHeaderCellDef>action</th>
              <td mat-cell *matCellDef="let detail">
                <div><button (click)="openDialog(detail)" mat-icon-button>
                <mat-icon>create</mat-icon>
              </button></div>
              <div class="inline"><button (click)="canceldetail(detail._id)" color="warn" mat-icon-button>
                <mat-icon>clear</mat-icon>
              </button></div></td>
          </ng-container>
    
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let detail; columns: displayedColumns;"></tr>
        </table>
      </div>
    
      <mat-paginator [length]="resultsLength" [pageSize]="20"></mat-paginator>
    </div>
  

    <br>
  
  </div>